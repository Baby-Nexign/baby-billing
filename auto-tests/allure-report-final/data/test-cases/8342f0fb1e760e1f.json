{"uid":"8342f0fb1e760e1f","name":"Тест обработки пустого CDR файла","fullName":"tests.test_edge_cases#test_process_empty_cdr_file","historyId":"5505bc4a6917439cf9037b757c48a2d1","time":{"start":1746967598879,"stop":1746967599900,"duration":1021},"description":"Проверяет, что пустой файл CDR (test_data/empty_cdr.jsonl) не приводит к созданию записей в БД и не вызывает ошибок при чтении/отправке.","descriptionHtml":"<p>Проверяет, что пустой файл CDR (test_data/empty_cdr.jsonl) не приводит к созданию записей в БД и не вызывает ошибок при чтении/отправке.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"db_connection","time":{"start":1746967598867,"stop":1746967598878,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Проверяет, что пустой файл CDR (test_data/empty_cdr.jsonl) не приводит к созданию записей в БД и не вызывает ошибок при чтении/отправке.","status":"passed","steps":[{"name":"1. Подготовка БД (очистка cdr_record, без создания специфичных абонентов)","time":{"start":1746967598879,"stop":1746967598890,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"9d6d2d1b7f67cd4c","name":"ID подготовленных/проверенных абонентов (ожидается пусто)","source":"9d6d2d1b7f67cd4c.json","type":"application/json","size":2}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"2. Чтение CDR из пустого файла: test_data/empty_cdr.jsonl","time":{"start":1746967598890,"stop":1746967598891,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"9ec8afebb5c6dc46","name":"Содержимое файла test_data/empty_cdr.jsonl (ожидается пусто)","source":"9ec8afebb5c6dc46.json","type":"application/json","size":2}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"3. Отправка CDR в RabbitMQ (не выполняется, так как список CDR пуст)","time":{"start":1746967598891,"stop":1746967598891,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"bde18b746b2b99dd","name":"Статус отправки в RabbitMQ","source":"bde18b746b2b99dd.txt","type":"text/plain","size":112}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"4. Ожидание 1 сек. (на случай фоновой обработки)","time":{"start":1746967598891,"stop":1746967599891,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"5. Проверка отсутствия записей в таблице cdr_record (ожидается: 0)","time":{"start":1746967599892,"stop":1746967599899,"duration":7},"status":"passed","steps":[],"attachments":[{"uid":"dce4a00868b6eed1","name":"Сводка по записям в БД","source":"dce4a00868b6eed1.txt","type":"text/plain","size":90}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f80b3257fab02ed1","name":"log","source":"f80b3257fab02ed1.txt","type":"text/plain","size":2772},{"uid":"4a92dbbeb1f20c37","name":"stderr","source":"4a92dbbeb1f20c37.txt","type":"text/plain","size":2727}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"db_connection::0","time":{"start":1746967599902,"stop":1746967599906,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"Обработка пустого CDR файла"},{"name":"severity","value":"normal"},{"name":"epic","value":"Обработка CDR в BRT"},{"name":"feature","value":"Граничные случаи (Edge Cases)"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_edge_cases"},{"name":"host","value":"imenov"},{"name":"thread","value":"32580-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_edge_cases"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"8342f0fb1e760e1f.json","parameterValues":[]}