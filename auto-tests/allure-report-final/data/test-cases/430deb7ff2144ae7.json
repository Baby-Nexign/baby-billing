{"uid":"430deb7ff2144ae7","name":"Тест успешной обработки файла с валидными CDR записями","fullName":"tests.test_positive_scenarios#test_process_good_cdr_file_successfully","historyId":"2db2930341421a58f4a3919acc624794","time":{"start":1746967620305,"stop":1746967627343,"duration":7038},"description":"Проверяет, что корректный файл CDR (из test_data/good_cdrs.jsonl) успешно обрабатывается, и все записи из него сохраняются в базу данных cdr_record.","descriptionHtml":"<p>Проверяет, что корректный файл CDR (из test_data/good_cdrs.jsonl) успешно обрабатывается, и все записи из него сохраняются в базу данных cdr_record.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"db_connection","time":{"start":1746967620281,"stop":1746967620304,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Проверяет, что корректный файл CDR (из test_data/good_cdrs.jsonl) успешно обрабатывается, и все записи из него сохраняются в базу данных cdr_record.","status":"passed","steps":[{"name":"1. Подготовка БД: создание/проверка абонентов ['79123456789', '79996667755', '79334455667'] и очистка cdr_record","time":{"start":1746967620305,"stop":1746967620321,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"8ae332d3c92da57d","name":"ID подготовленных/проверенных абонентов","source":"8ae332d3c92da57d.json","type":"application/json","size":62}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"2. Чтение CDR из файла: test_data/good_cdrs.jsonl","time":{"start":1746967620321,"stop":1746967620323,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"5137f0354852cecc","name":"Содержимое файла test_data/good_cdrs.jsonl","source":"5137f0354852cecc.json","type":"application/json","size":1775}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"3. Отправка 9 CDR в RabbitMQ","time":{"start":1746967620323,"stop":1746967620340,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"b421da93f6459ecc","name":"CDRы, отправленные в RabbitMQ","source":"b421da93f6459ecc.json","type":"application/json","size":1775}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"4. Ожидание 7 секунд для обработки CDR сервисом BRT","time":{"start":1746967620340,"stop":1746967627341,"duration":7001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"5. Проверка количества записей в таблице cdr_record (ожидается: 9)","time":{"start":1746967627341,"stop":1746967627343,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"dd97074d6b56f485","name":"Сводка по записям в БД","source":"dd97074d6b56f485.txt","type":"text/plain","size":90},{"uid":"1765403af93cd30","name":"Записи, полученные из cdr_record","source":"1765403af93cd30.json","type":"application/json","size":2064}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"55340818646223bb","name":"Ожидаемое количество записей в БД","source":"55340818646223bb.txt","type":"text/plain","size":1},{"uid":"241c5587761028cf","name":"log","source":"241c5587761028cf.txt","type":"text/plain","size":5744},{"uid":"e62b3cfd4158f9ef","name":"stderr","source":"e62b3cfd4158f9ef.txt","type":"text/plain","size":5519}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"db_connection::0","time":{"start":1746967627344,"stop":1746967627345,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"critical"},{"name":"story","value":"Успешная обработка корректного CDR файла"},{"name":"feature","value":"Позитивные сценарии"},{"name":"epic","value":"Обработка CDR в BRT"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_positive_scenarios"},{"name":"host","value":"imenov"},{"name":"thread","value":"32580-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_positive_scenarios"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[],"tags":[]},"source":"430deb7ff2144ae7.json","parameterValues":[]}