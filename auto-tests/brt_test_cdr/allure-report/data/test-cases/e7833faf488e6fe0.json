{"uid":"e7833faf488e6fe0","name":"Тест успешной обработки файла с валидными CDR записями","fullName":"tests.test_positive_scenarios#test_process_good_cdr_file_successfully","historyId":"2db2930341421a58f4a3919acc624794","time":{"start":1746967620305,"stop":1746967627343,"duration":7038},"description":"Проверяет, что корректный файл CDR (из test_data/good_cdrs.jsonl) успешно обрабатывается, и все записи из него сохраняются в базу данных cdr_record.","descriptionHtml":"<p>Проверяет, что корректный файл CDR (из test_data/good_cdrs.jsonl) успешно обрабатывается, и все записи из него сохраняются в базу данных cdr_record.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"db_connection","time":{"start":1746967620281,"stop":1746967620304,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Проверяет, что корректный файл CDR (из test_data/good_cdrs.jsonl) успешно обрабатывается, и все записи из него сохраняются в базу данных cdr_record.","status":"passed","steps":[{"name":"1. Подготовка БД: создание/проверка абонентов ['79123456789', '79996667755', '79334455667'] и очистка cdr_record","time":{"start":1746967620305,"stop":1746967620321,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"4907f6ce7571d5b7","name":"ID подготовленных/проверенных абонентов","source":"4907f6ce7571d5b7.json","type":"application/json","size":62}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"2. Чтение CDR из файла: test_data/good_cdrs.jsonl","time":{"start":1746967620321,"stop":1746967620323,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"e6efad33e59f76ef","name":"Содержимое файла test_data/good_cdrs.jsonl","source":"e6efad33e59f76ef.json","type":"application/json","size":1775}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"3. Отправка 9 CDR в RabbitMQ","time":{"start":1746967620323,"stop":1746967620340,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"44fe2b7661b4dd8e","name":"CDRы, отправленные в RabbitMQ","source":"44fe2b7661b4dd8e.json","type":"application/json","size":1775}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"4. Ожидание 7 секунд для обработки CDR сервисом BRT","time":{"start":1746967620340,"stop":1746967627341,"duration":7001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"5. Проверка количества записей в таблице cdr_record (ожидается: 9)","time":{"start":1746967627341,"stop":1746967627343,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"a2f42ff421a5554","name":"Сводка по записям в БД","source":"a2f42ff421a5554.txt","type":"text/plain","size":90},{"uid":"358d3df0b1927ec1","name":"Записи, полученные из cdr_record","source":"358d3df0b1927ec1.json","type":"application/json","size":2064}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"490a0a147fc90625","name":"Ожидаемое количество записей в БД","source":"490a0a147fc90625.txt","type":"text/plain","size":1},{"uid":"4191d016a769bfed","name":"log","source":"4191d016a769bfed.txt","type":"text/plain","size":5744},{"uid":"5b4a254b8966e6e2","name":"stderr","source":"5b4a254b8966e6e2.txt","type":"text/plain","size":5519}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":8,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"db_connection::0","time":{"start":1746967627344,"stop":1746967627345,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"critical"},{"name":"story","value":"Успешная обработка корректного CDR файла"},{"name":"feature","value":"Позитивные сценарии"},{"name":"epic","value":"Обработка CDR в BRT"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_positive_scenarios"},{"name":"host","value":"imenov"},{"name":"thread","value":"32580-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_positive_scenarios"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[],"tags":[]},"source":"e7833faf488e6fe0.json","parameterValues":[]}